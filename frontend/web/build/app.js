$((function(){const t=$("#cart-quantity"),a=$(".btn-add-to-cart"),e=$(".item-quantity");a.click((a=>{a.preventDefault();const e=$(a.target),c=e.closest(".product-item").data("key");console.log(c),$.ajax({method:"POST",url:e.attr("href"),data:{id:c},success:function(){console.log(arguments),t.text(parseInt(t.text()||0)+1)}})})),e.change((a=>{const e=$(a.target);let c=e.closest("tr");const n=e.closest("td"),o=c.data("id");$.ajax({method:"post",url:c.data("url"),data:{id:o,quantity:e.val()},success:function(a){t.text(a.quantity),n.next().text(a.price)}})}))}));